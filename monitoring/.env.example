# PIL Watchtower Configuration
# Copy this file to .env and fill in your values

# ==================================
# RPC Endpoints (Required)
# ==================================
# Comma-separated list of RPC endpoints
# Example: https://eth-mainnet.g.alchemy.com/v2/YOUR_KEY
RPC_ENDPOINTS=

# ==================================
# Alert Configuration (Required)
# ==================================
# Slack webhook URL for alerts
SLACK_WEBHOOK_URL=

# Optional: PagerDuty for critical alerts
PAGERDUTY_SERVICE_KEY=

# Optional: Discord webhook
DISCORD_WEBHOOK_URL=

# ==================================
# Contract Addresses
# ==================================
# BridgeCircuitBreaker contract address for auto-escalation
CIRCUIT_BREAKER_ADDRESS=0x0000000000000000000000000000000000000000

# EnhancedKillSwitch contract address
KILL_SWITCH_ADDRESS=0x0000000000000000000000000000000000000000

# ==================================
# Watchtower Settings
# ==================================
# Confidence threshold for generating alerts (0.0-1.0)
CONFIDENCE_THRESHOLD=0.7

# Confidence threshold for auto-triggering circuit breaker
AUTO_ESCALATE_THRESHOLD=0.9

# Enable/disable auto-escalation
AUTO_ESCALATE=true

# Chains to monitor (comma-separated chain IDs)
# 1=Ethereum, 42161=Arbitrum, 10=Optimism, 8453=Base
CHAINS=1,42161,10,8453

# ==================================
# Grafana Configuration
# ==================================
# Admin password for Grafana
GF_SECURITY_ADMIN_PASSWORD=changeme

# ==================================
# Redis Configuration
# ==================================
# Redis connection (for multi-node deployments)
REDIS_URL=redis://redis:6379

# Alert deduplication window in seconds
ALERT_DEDUP_WINDOW=300

# ==================================
# Prometheus Configuration
# ==================================
# Retention period for metrics
PROMETHEUS_RETENTION=15d

# ==================================
# Network Configuration
# ==================================
# Prometheus port (watchtower metrics)
PROMETHEUS_PORT_1=9090
PROMETHEUS_PORT_2=9091

# Prometheus server port
PROMETHEUS_SERVER_PORT=9092

# Grafana port
GRAFANA_PORT=3001

# AlertManager port
ALERTMANAGER_PORT=9093

# ==================================
# Logging
# ==================================
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# ==================================
# Private Key (For Auto-Escalation)
# ==================================
# WARNING: Only needed if auto-escalation is enabled
# Use a dedicated wallet with minimal funds
# NEVER use your main wallet
WATCHTOWER_PRIVATE_KEY=

# ==================================
# Advanced Settings
# ==================================
# Block confirmation depth before processing
BLOCK_CONFIRMATIONS=3

# Number of blocks to look back on startup
LOOKBACK_BLOCKS=100

# Transaction window size for anomaly detection
WINDOW_SIZE=1000

# Z-score threshold for statistical anomaly detection
Z_SCORE_THRESHOLD=3.0
